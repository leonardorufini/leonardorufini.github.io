<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leonardo Rufini</title>
  <!-- Font da Google -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">



  <!-- Inline CSS -->
  <style>
    /* New Deep Dark Theme CSS Variables */
    :root {
     --primary-bg: hsla(240, 11%, 96%, 1);
     --secondary-bg: hsla(0, 0%, 100%, 1);
     --card-bg: hsla(0, 0%, 100%, 1);
     --accent-color: hsla(240, 3%, 13%, 1);
     --accent-dark: hsla(240, 3%, 8%, 1);
     --text-light: hsla(240, 3%, 13%, 1);
     --text-muted: hsla(240, 3%, 8%, 1);
     --text-white: hsla(0, 0%, 100%, 1);
     --border-color: hsla(240, 3%, 8%, 0.2);
     --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
     --box-shadow-hover: 0 8px 25px rgba(0, 0, 0, 0.2);
     --clickable-hover: linear-gradient(
        270deg,
        #ff0040,
        #ff8000,
        #ffff00,
        #00ff00,
        #00ffff,
        #0080ff,
        #8000ff,
        #ff00ff
      );--border-radius-main: 12px;
     --border-radius-card: 8px;
     --transition-speed: 0.2s;
     --animation-duration: 0.7s;
     --stagger-delay: 0.08s;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      overflow-x: hidden;
      margin: 0;
      scroll-behavior: smooth;
    }

    body {
     font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
      margin: 0;
      line-height: 1.8;
      background: var(--primary-bg);
      color: var(--text-light);
    }
    
    /* Header e Navbar */
    header {
      background: var(--secondary-bg); /* Use deepest dark */
      color: var(--text-light);
      padding: 1.5em 0; /* Adjusted padding */
      text-align: center;
      /* box-shadow: var(--box-shadow); */
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: background-color 0.4s ease, padding 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      /* border-bottom: 1px solid var(--border-color);*/
    }

    /* Header scroll effect */
    header.scrolled {
      background-color: rgba(255, 255, 255, 0.95); /* Semi-transparent white when scrolled */
      backdrop-filter: blur(10px); /* Add blur effect for modern look */
      -webkit-backdrop-filter: blur(10px); /* Safari support */
      padding: 0.8em 0;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Subtle shadow when scrolled */
    }
    
    header h1 {
      font-family: inherit;
      font-size: 3.4em; /* Even larger, more impactful title */
      margin: 0.2em 0 0.5em 0;
      letter-spacing: 2px;
      color: var(--text-light);
      transition: font-size 0.3s ease, margin 0.3s ease;
    }

    header.scrolled h1 {
        font-size: 2.6em;
    }

    nav {
      width: 100%;
      max-width: 1200px;
    }

    .nav-list {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 45px; /* More space */
      margin: 0;
      padding: 0;
      flex-wrap: wrap;
    }

    .nav-list li {
      margin: 0;
    }
    
    .nav-list a {
      color: var(--text-light);
      text-decoration: none;
      font-weight: 600;
      font-family: inherit;
      font-size: 1.15em;
      transition: all var(--transition-speed) ease;
      padding: 8px 15px;
      border-radius: var(--border-radius-card);
      position: relative;
    }

    .nav-list a::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        background: var(--accent-color);
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        transition: width var(--transition-speed) ease;
    }

    .nav-list a:hover::after,
    .nav-list a.active::after {
        width: 100%;
    }

    .nav-list a:hover{
      color: var(--text-light);
      transform: translateY(-3px);
      font-weight: 700;
      /* background-color: var(--accent-deep); Deeper accent background on hover */
      text-decoration: none;
    }

    /* Hamburger icon styling */
    .nav-toggle {
        display: none;
        background: none;
        border: none;
        color: var(--accent-color); /* Accent color for visibility */
        cursor: pointer;
        padding: 10px;
        z-index: 1001;
        transition: color var(--transition-speed) ease;
        position: relative; /* For the custom icon */
        width: 40px; /* Standard size */
        height: 40px;
        align-items: center;
        justify-content: center;
    }
    .nav-toggle:hover {
        color: var(--accent-color);
    }
    /* Custom Hamburger Icon */
    .nav-toggle span {
      display: block;
      width: 30px;
      height: 3px;
      background: var(--accent-color);
      border-radius: 3px;
      position: absolute;
      transition: all 0.3s ease;
    }
    .nav-toggle span:before,
    .nav-toggle span:after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background: var(--accent-color);
      border-radius: 3px;
      transition: all 0.3s ease;
    }
    .nav-toggle span:before {
      transform: translateY(-10px);
    }
    .nav-toggle span:after {
      transform: translateY(10px);
    }

    /* Cross icon animation */
    .nav-toggle.active span {
      background: transparent;
    }
    .nav-toggle.active span:before {
      transform: translateY(0) rotate(45deg);
    }
    .nav-toggle.active span:after {
      transform: translateY(0) rotate(-45deg);
    }
    
    /* Sezioni */
    section {
      padding: 4.5em; /* More internal padding */
      max-width: 1000px;
      margin: 2.5em auto; /* Reduced margin between sections */
      margin-top: 5%;
      margin-bottom: 5%;
      background: var(--secondary-bg);
      /* box-shadow: var(--box-shadow); */
      border-radius: var(--border-radius-main);
      color: var(--text-light);
      position: relative;
      /* border: 1px solid var(--border-color); */

      opacity: 0;
      transform: translateY(40px); /* Deeper initial translateY */
      transition: opacity var(--animation-duration) ease-out, transform var(--animation-duration) ease-out;
    }

    section.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    section h2 {
      font-family: inherit;
      font-size: 2.8em; /* Larger section titles */
      color: var(--accent-color);
      margin-top: 0; /* Ensures consistent top spacing within section */
      margin-bottom: 0.8em;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0.6em; /* Slightly more padding */
      /* text-shadow: 0 0 10px rgba(255, 0, 8, 0.5); */
    }

    section p {
        font-size: 1.15em;
        margin-bottom: 1.2em;
        line-height: 1.9;
    }
    
    #project-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive min-width */
      gap: 2.2em; /* More space between projects */
      margin-top: 2.5em;
    }

    .project {
      background: var(--card-bg);
      padding: 2.2em; /* More padding */
      border-radius: var(--border-radius-card);
      color: var(--text-light);
      box-shadow: var(--box-shadow); /* Deeper initial shadow */
      transition: transform var(--transition-speed) ease-out, box-shadow var(--transition-speed) ease-out, opacity var(--animation-duration) ease-out;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      /* border: 1px solid var(--border-color); */

      opacity: 0;
      transform: translateY(25px); /* Deeper initial translateY */
    }

    .project.is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    .project:hover {
      transform: translateY(-10px) scale(1.03); /* More pronounced lift effect */
      box-shadow: var(--box-shadow-hover);
    }

    .project h3 {
        font-family: inherit;
        font-size: 1.6em; /* Larger project title */
        margin-top: 0;
        margin-bottom: 0.6em;
        color: var(--accent-color);
        transition: color var(--transition-speed) ease;
        word-wrap: break-word; /* Allows long words to break */
        overflow-wrap: break-word; /* Alternative for word-wrap */
        white-space: normal; /* Ensures text wraps normally */
        line-height: 1.3; /* Improves readability of wrapped titles */
    }

    .project h3:hover {
        color: var(--accent-color); /* White on project title hover */
    }

    .project hr {
        border: none;
        border-top: 1px solid rgba(255, 255, 255, 0.15); /* Slightly more visible separator */
        margin: 1.2em 0;
    }

    .project p {
        font-size: 1.05em; /* Slightly larger project description */
        margin-bottom: 1.5em;
        flex-grow: 1;
        color: var(--text-muted); /* Muted text for description */
    }

    .project ul {
      list-style: none;
      padding: 0;
      margin-top: 1.8em; /* More space */
      font-size: 0.98em;
      color: var(--text-light);
      display: flex;
      flex-wrap: wrap;
      gap: 18px; /* More space between items */
    }

    .project ul li {
        background-color: rgba(255, 255, 255, 0.18); /* Brighter background for labels */
        padding: 6px 12px;
        border-radius: 6px;
        font-family: inherit;
        color: var(--text-muted);
    }

    .project ul li strong {
        color: var(--accent-color);
    }
    
    /* Footer */
    footer {
      text-align: center;
      padding: 2.5em; /* More padding */
      background: var(--secondary-bg);
      color: var(--text-muted); /* Muted text for footer */
      width: 100%;
      margin-top: 3em; /* Reduced margin */
      box-shadow: 0 -10px 30px var(--box-shadow); /* Top shadow only with --box-shadow color */
      /* border-top: 1px solid var(--border-color); */
    }
    
    /* Link repository */
    .project a {
      text-decoration: none;
      color: var(--accent-color);
      transition: color var(--transition-speed) ease;
      font-weight: 700;
    }
    .project a:hover{
      color: var(--accent-color);
      text-decoration: none;
    }

    /* General Links */
    a {
      color: var(--accent-dark);
      text-decoration: none;
      transition: all var(--transition-speed) ease;
    }

    /* Hover: rainbow gradient inside the text itself */
    a:hover {
      background: linear-gradient(
        270deg,
        #ff0040,
        #ff8000,
        #ffff00,
        #00ff00,
        #00ffff,
        #0080ff,
        #8000ff,
        #ff00ff
      );
      background-size: 1600% 1600%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbowShift 5s linear infinite;
      text-decoration: none;
    }

/* Rainbow animation keyframes */
@keyframes rainbowShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}



    /* Every Section Links */
    section#about a,
    section#projects a,
    section#contact a {
        color: var(--accent-color);
        font-weight: 600;
        font-size: 1.15em;
    }

    section#about a:hover,
    section#projects a:hover,
    section#contact a:hover {
        color: var(--text-white);
    }

    /* BUTTON BASE STATE */
    .download-btn {
      display: inline-flex;
      align-items: center;
      padding: 16px 35px;
      background: var(--accent-color); /* Your custom base color */
      color: var(--text-white);
      font-size: 19px;
      font-weight: 700;
      border: none;
      border-radius: var(--border-radius-main);
      text-decoration: none;
      transition: all var(--transition-speed) ease;
      box-shadow: var(--box-shadow);
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }

    /* HOVER STATE â€” rainbow animation */
    .download-btn:hover {
      background: var(--clickable-hover);
      background-size: 1600% 1600%;
      animation: rainbowShift 5s linear infinite;
      transform: translateY(-6px) scale(1.04);
      box-shadow: var(--box-shadow-hover);
    }

    .download-btn svg {
      margin-right: 14px;
      width: 26px; /* Larger icon */
      height: 26px;
      fill: var(--text-white);
    }

    /* Contact Section Styles */
    .contact-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2em;
      margin-top: 2em;
    }

    .contact-card {
      background: var(--card-bg);
      padding: 2.5em 2em;
      border-radius: var(--border-radius-card);
      text-align: center;
      /* border: 1px solid var(--border-color); */
      transition: all var(--transition-speed) ease;
      box-shadow: var(--box-shadow);
      cursor: pointer;
      text-decoration: none;
      display: block;
      color: var(--text-light);
    }

    .contact-card:hover {
      color: var(--text-light);
      transform: translateY(-8px) scale(1.02);
      box-shadow: var(--box-shadow-hover);
      border-color: var(--accent-color);
    }

    .contact-icon {
      color: var(--text-white);
      width: 80px;
      height: 80px;
      margin: 0 auto 1.5em;
      background: var(--accent-color);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-speed) ease;
    }

    .contact-card:hover .contact-icon {
      color: var(--text-white)  !important;
      background: var(--accent-dark);
      transform: rotate(360deg);
    }

    .contact-icon i {
      font-size: 2.5em;
      color: var(--text-white) !important;
    }

    .contact-card h3 {
      font-size: 1.4em;
      color: var(--text-light);
      margin: 0;
      font-family: inherit;
    }

    /* Curriculum Section Styles */
    .cv-container {
      background: var(--card-bg);
      padding: 3em 2em;
      border-radius: var(--border-radius-card);
      text-align: center;
      /* border: 1px solid var(--border-color); */
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      max-width: 600px;
      margin: 2em auto 0;
    }

    .cv-icon {
      width: 100px;
      height: 100px;
      margin: 0 auto 1.5em;
      background: var(--accent-color);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-speed) ease;
      animation: pulse 2s ease-in-out infinite;
    }

    .cv-icon i {
      font-size: 3em;
      color: var(--text-white);
    }

    .cv-container h3 {
      font-size: 1.8em;
      color: var(--accent-color);
      margin: 0 0 0.5em 0;
      font-family: inherit;
    }

    .cv-container p {
      font-size: 1.1em;
      color: var(--text-muted);
      margin-bottom: 2em;
      line-height: 1.6;
    }

    /* About Section Styles */
    .about-container {
      margin-top: 2em;
    }

    .about-intro {
      display: flex;
      align-items: center;
      gap: 2em;
      margin-bottom: 2.5em;
      padding-bottom: 2em;
      /* border-bottom: 1px solid var(--border-color); */
    }

    .about-icon {
      width: 100px;
      height: 100px;
      min-width: 100px;
      background: var(--accent-color);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 30px var(--box-shadow);
    }

    .about-icon i {
      font-size: 3em;
      color: var(--text-white);
    }

    .about-text h3 {
      font-size: 2em;
      color: var(--accent-color);
      margin: 0 0 0.3em 0;
      font-family: inherit;
    }

    .about-subtitle {
      font-size: 1.1em;
      color: var(--text-muted);
      margin: 0;
      font-style: italic;
    }

    .about-content {
      margin-bottom: 3em;
    }

    .about-content p {
      font-size: 1.15em;
      line-height: 1.9;
      margin-bottom: 1.5em;
    }

    .about-content strong {
      color: var(--accent-color);
      font-weight: 600;
    }

    .about-highlights {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5em;
      margin-top: 2em;
    }

    .highlight-card {
      background: var(--card-bg);
      padding: 2em 1.5em;
      border-radius: var(--border-radius-card);
      text-align: center;
      /* border: 1px solid var(--border-color); */
      transition: all var(--transition-speed) ease;
      box-shadow: var(--box-shadow);
    }

    .highlight-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--box-shadow-hover);
      border-color: var(--accent-color);
    }

    .highlight-card i {
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 0.5em;
      display: block;
    }

    .highlight-card h4 {
      font-size: 1.3em;
      color: var(--text-light);
      margin: 0.5em 0;
      font-family: inherit;
    }

    .highlight-card p {
      font-size: 1em;
      color: var(--text-muted);
      margin: 0.5em 0 0 0;
      line-height: 1.6;
    }

    .highlight-card span {
      font-size: 0.9em;
      color: var(--accent-color);
      font-weight: 600;
    }

    /* Responsive adjustments */
    @media (max-width: 900px) {
        section {
            padding: 3.5em 2.5em;
            margin: 2.5em auto; /* Reduced margin */
        }
        header h1 {
            font-size: 2.8em;
        }
        section h2 {
            font-size: 2.4em;
        }
        .project {
            padding: 1.8em;
        }
        #project-list {
            gap: 1.8em;
        }
    }

    @media (max-width: 768px) {
      /* --- FIX 1 & 2: Adjust body scroll lock and nav overlay behavior --- */
      body.nav-active {
        overflow: hidden; /* Only prevent scrolling */
        /* Removed position: fixed, height: 100%, width: 100% */
      }
      
      header {
          flex-direction: row;
          justify-content: space-between;
          padding: 1em 1.5em;
          align-items: center;
      }
      header h1 {
        font-size: 2.2em;
        margin: 0;
      }
      header.scrolled h1 {
        font-size: 2em;
      }

      .nav-toggle {
        display: flex !important; /* Show only on smartphone */
        z-index: 1003; /* Ensure button stays above nav */
      }

      nav {
        position: fixed; /* Keep nav fixed to cover viewport */
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(255, 255, 255, 0.85); /* More transparent white background */
        backdrop-filter: blur(20px); /* Frosted glass effect */
        -webkit-backdrop-filter: blur(20px); /* Safari support */
        display: flex;
        align-items: center;
        justify-content: center;
        transform: translateX(100%);
        transition: transform 0.4s ease-in-out;
        z-index: 1001;
        overflow-y: auto; /* Allow scrolling within the nav if content is too tall */
        -webkit-overflow-scrolling: touch; /* Smooth scrolling for iOS */
      }
      nav.active {
        transform: translateX(0);
      }

      .nav-list {
        flex-direction: column;
        gap: 25px;
        font-size: 1em;
        padding: 20px;
        margin: 0;
        text-align: center;
      }
      .nav-list a {
          font-size: 1.8em; /* Even larger links for better touch target */
          padding: 18px 30px;
          color: var(--text-light); /* Use theme text color for mobile nav links */
          display: block;
          width: 100%;
      }
      .nav-list a:hover {
        color: var(--accent-color); /* Accent color on hover */
      }
      .nav-list a::after {
          height: 3px;
          background: var(--accent-color); /* Accent color for underline */
      }
      .nav-list a.active::after {
          background: var(--accent-color); /* Accent color underline for active mobile link */
      }


      section {
        padding: 2em 1.2em;
        margin: 1.5em 1em; /* More horizontal margin to show background */
      }
      section h2 {
        font-size: 2em;
        padding-bottom: 0.5em;
      }
      section p {
        font-size: 1em;
      }
      #project-list {
        grid-template-columns: 1fr;
        gap: 1.2em;
        margin: 1.5em 0; /* Better centering */
        padding: 0 0.5em; /* Add horizontal padding */
      }
      .project {
        margin-top: 1%;
        margin-bottom: 1%;
        padding: 1.2em;
        margin-left: auto;   
        margin-right: auto;  
        max-width: 90%;      
        min-width: 280px;    
      }
      .project h3 {
        font-size: 1.2em; /* Smaller to prevent overflow */
        line-height: 1.3; /* Better line spacing */
        word-wrap: break-word; /* Prevent overflow */
        overflow-wrap: break-word; /* Additional overflow protection */
      }
      .project p {
        font-size: 0.9em;
        line-height: 1.4; /* Better readability */
      }
      .project ul li {
        font-size: 0.9em;
        padding: 4px 8px;
      }
      .download-btn {
          padding: 14px 25px;
          font-size: 17px;
      }
      .download-btn svg {
          width: 22px;
          height: 22px;
      }
      .contact-grid {
        grid-template-columns: 1fr;
        gap: 1.5em;
      }
      .contact-card {
        padding: 2em 1.5em;
      }
      .contact-icon {
        width: 70px;
        height: 70px;
      }
      .contact-icon i {
        font-size: 2em;
      }
      .cv-container {
        padding: 2em 1.5em;
        margin: 1.5em auto 0;
      }
      .cv-icon {
        width: 80px;
        height: 80px;
      }
      .cv-icon i {
        font-size: 2.5em;
      }
      .cv-container h3 {
        font-size: 1.5em;
      }
      .cv-container p {
        font-size: 1em;
      }
      .about-intro {
        flex-direction: column;
        text-align: center;
        gap: 1.5em;
      }z
      .about-icon {
        width: 80px;
        height: 80px;
        min-width: 80px;
      }
      .about-icon i {
        font-size: 2.5em;
      }
      .about-text h3 {
        font-size: 1.6em;
      }
      .about-subtitle {
        font-size: 1em;
      }
      .about-highlights {
        grid-template-columns: 1fr;
        gap: 1.2em;
      }
      .highlight-card {
        padding: 1.5em 1em;
      }
      .highlight-card i {
        font-size: 2em;
      }
      .highlight-card h4 {
        font-size: 1.2em;
      }
    }

    @keyframes pulse {
      0%, 100% {
      transform: scale(1);
      box-shadow: 0 0 0 0 rgba(13, 13, 13, 0.7);
      }
      50% {
      transform: scale(1.05);
      box-shadow: 0 0 0 20px rgba(13, 13, 13, 0);
      }
    }


    /* GRADIENT ANIMATION */
    @keyframes rainbowShift {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

  </style>
</head>
<body>
  <!-- Header e Navbar -->
  <header>
    <h1>Leonardo Rufini</h1>
    <button class="nav-toggle" aria-label="Toggle navigation">
      <!-- Replaced Font Awesome icon with custom spans for a cleaner animation -->
      <span></span>
    </button>
    <nav>
      <ul class="nav-list">
        <li><a href="#about">Who am I</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#contact">Contacts</a></li>
        <li><a href="#curriculum">Curriculum</a></li>
      </ul>
    </nav>
  </header>

  <!-- Sezione Chi Sono -->
  <section id="about" class="animated-section">
    <h2>About me</h2>
    
    <div class="about-container">
      <div class="about-intro">
        <div class="about-icon">
          <i class="fas fa-user-graduate"></i>
        </div>
        <div class="about-text">
          <h3>Hi! I'm Leonardo Rufini</h3>
          <p class="about-subtitle">Engeneer in computer science</p>
        </div>
      </div>

      <div class="about-content">
        <p>I graduated with a bachelor's degree in Engineering in Computer Science at <b>Sapienza University</b> in Rome, 
          and I am now pursuing my Master's degree in Engineering in Computer Science.</p>
        
        <p>My main interests include <b>cryptography</b> and <b>blockchain technology</b>. 
          In 2024, I had the honor of participating in <a href="https://cyberchallenge.it" target="_blank" rel="noopener noreferrer">Cyberchallenge</a>
          with the Sapienza team, which won the national competition. This experience gave me the opportunity to deal with <b> practical hacking </b>challenges and further deepened my passion for cybersecurity.</p>
        
        <p> I am currently studying and enjoying advanced cryptography and blockchain, and trying to master Zero Knowledge cryptographical techniques.</p>
      </div>

      <div class="about-highlights">
        <div class="highlight-card">
          <i class="fas fa-graduation-cap"></i>
          <h4>Education</h4>
          <p>Eng in Computer Science<br><span>Sapienza University, Rome</span></p>
        </div>
        <div class="highlight-card">
          <i class="fas fa-shield-alt"></i>
          <h4>Specialization</h4>
          <p>Cryptography & Security<br><span>Zero Knowledge Proofs</span></p>
        </div>
        <div class="highlight-card">
          <i class="fas fa-trophy"></i>
          <h4>Achievement</h4>
          <p>Cyberchallenge 2024<br><span>Sapienza Team Member</span></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Sezione Progetti -->
  <section id="projects" class="animated-section">
    <h2>Projects on Github</h2>
    <div id="project-list">
      <p style="color: var(--text-light);">Loading Github projects ...</p>
    </div>
    </section>

    <!-- Sezione Contatti -->
    <!-- Sezione Contatti -->
    <section id="contact" class="animated-section">
    <h2>Contact me</h2>
    
    <div class="contact-grid">
      <a href="mailto:leo.rufini.459@gmail.com" class="contact-card">
        <div class="contact-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <h3>Email</h3>
      </a>

      <a href="https://github.com/pennyw1ze" target="_blank" rel="noopener noreferrer" class="contact-card">
        <div class="contact-icon">
          <i class="fab fa-github"></i>
        </div>
        <h3>GitHub</h3>
      </a>

      <a href="https://www.linkedin.com/in/leonardo-rufini-217700335?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" rel="noopener noreferrer" class="contact-card">
        <div class="contact-icon">
          <i class="fab fa-linkedin"></i>
        </div>
        <h3>LinkedIn</h3>
      </a>
    </div>
    </section>

    <section id="curriculum" class="animated-section">
    <h2>Curriculum</h2>
    <div class="cv-container">
      <div class="cv-icon">
        <i class="fas fa-file-pdf"></i>
      </div>
      <h3>Download My CV</h3>
      <p>Get a detailed overview of my education, experience, and skills.</p>
      <button type="button" class="download-btn" onclick="downloadCV()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M5 20h14v-2H5v2zm7-18l-5.5 5.5h4v6h3v-6h4L12 2z"/>
        </svg>
        Download CV
      </button>
    </div>
    <script>
      function downloadCV() {
        const link = document.createElement('a');
        link.href = "https://raw.githubusercontent.com/leonardorufini/leonardorufini.github.io/main/CV.pdf";
        link.download = "CV.pdf";
        link.click();
      }
    </script> 
    </section>

    <!-- Footer -->
    <footer>
    <p>&copy; 2025 Leonardo Rufini</p>
    </footer>

    <!-- Script per caricare dinamicamente i progetti da GitHub e animazioni -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // --- Mobile Navigation Toggle ---
      const navToggle = document.querySelector('.nav-toggle');
      const nav = document.querySelector('nav');
      const navLinks = document.querySelectorAll('.nav-list a');
      const body = document.body; // Reference to the body element

      navToggle.addEventListener('click', () => {
        nav.classList.toggle('active');
        navToggle.classList.toggle('active'); // Toggle class on button for custom icon animation
        body.classList.toggle('nav-active'); // Toggle class on body to prevent scroll
        
        // --- FIX 1: Re-evaluate active link after nav state change ---
        // When closing, allow a brief moment for layout to settle before updating
        if (!nav.classList.contains('active')) {
            setTimeout(updateActiveNavLink, 50); 
        }
      });

      navLinks.forEach(link => {
        link.addEventListener('click', () => {
          if (nav.classList.contains('active')) {
            nav.classList.remove('active');
            navToggle.classList.remove('active'); // Remove class from button
            body.classList.remove('nav-active'); // Remove class from body
            // --- FIX 1: Ensure active link is updated immediately after closing nav ---
            setTimeout(updateActiveNavLink, 50); 
          }
        });
      });


      // --- GitHub Projects Loading ---
      const apiURL = "https://api.github.com/users/pennyw1ze/repos";
      
      fetch(apiURL)
        .then(response => response.json())
        .then(data => {
          const projectList = document.getElementById("project-list");
          projectList.innerHTML = ""; // Clear the container
          
          data.sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));
          
          data.forEach(repo => {
            const projectDiv = document.createElement("div");
            projectDiv.className = "project";
            projectDiv.innerHTML = `
                <h3><a href="${repo.html_url}" target="_blank" rel="noopener noreferrer">${repo.name}</a></h3>
                <hr>
                <p>${repo.description ? repo.description : "No description provided."}</p>
                <ul>
                  <li><strong>Language:</strong> ${repo.language ? repo.language : "N/A"}</li>
                  <li><strong><i class="fas fa-star"></i> Stars:</strong> ${repo.stargazers_count}</li>
                  <li><strong><i class="fas fa-eye"></i> Watchers:</strong> ${repo.watchers_count}</li>
                </ul>
              `;
            projectList.appendChild(projectDiv);
          });

          // After projects are loaded, observe them for animations
          const projectCards = document.querySelectorAll('.project');
          projectCards.forEach((card, index) => {
              cardObserver.observe(card); // Use the new cardObserver
              // Removed the individual transitionDelay for consistent animation speed
              // card.style.transitionDelay = `${index * parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--stagger-delay'))}s`; 
          });

        })
        .catch(error => {
          console.error("Errore durante il caricamento dei progetti:", error);
          document.getElementById("project-list").innerHTML = "<p style=\"color: var(--text-light);\">Failed to load projects from GitHub. Please try again later.</p>";
        });

      // --- Persistent Scroll Animations (Intersection Observer) ---
      const animatedSections = document.querySelectorAll('.animated-section');
      
      const observerOptions = {
        root: null, /* viewport */
        rootMargin: '0px',
        threshold: 0.1 /* Trigger when 10% of the element is visible */
      };

      const sectionObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
          } else {
            entry.target.classList.remove('is-visible'); // Remove class when out of view
          }
        });
      }, observerOptions);

      animatedSections.forEach(section => {
        sectionObserver.observe(section);
      });

      const cardObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
          } else {
            entry.target.classList.remove('is-visible');
          }
        });
      }, {
        root: null,
        rootMargin: '0px',
        threshold: 0.2 // Slightly higher threshold for cards
      });

      // --- Header Scroll Effect ---
      const header = document.querySelector('header');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
        updateActiveNavLink(); // Update active nav link on scroll
      });

      // --- Active Navigation Link on Scroll ---
      function updateActiveNavLink() {
        // --- FIX 1: Prevent active link update when mobile nav is open ---
        if (nav.classList.contains('active')) {
            return; 
        }

        let currentActive = '';
        // Using Array.from to iterate over NodeList with forEach
        Array.from(animatedSections).reverse().forEach(section => { // Reverse to correctly pick top-most visible
          const sectionTop = section.offsetTop;
          // Offset by header height for better accuracy
          if (window.scrollY >= sectionTop - header.clientHeight - 30) { // Increased offset
            currentActive = section.getAttribute('id');
            return; // Exit loop once the first visible section (from bottom up) is found
          }
        });

        navLinks.forEach(a => {
          a.classList.remove('active');
          if (a.href.includes(currentActive) && currentActive !== '') { // Ensure currentActive is not empty
            a.classList.add('active');
          }
        });
      }

      // Initial call to set active link and handle potential immediate visibility
      updateActiveNavLink();
      // Ensure animations trigger for elements visible on page load
      animatedSections.forEach(section => {
        if (section.getBoundingClientRect().top < window.innerHeight && section.getBoundingClientRect().bottom > 0) {
          section.classList.add('is-visible');
        }
      });
    });
  </script>

</body>
</html>